"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var path = require("path");
var utils_1 = require("../utils");
var EntryConfigFactory = /** @class */ (function () {
    function EntryConfigFactory() {
    }
    EntryConfigFactory.prototype.create = function (config, context, target) {
        var pkg = context.pkg;
        var _a = utils_1.getConfig(pkg, target), entry = _a.entry, deployConfig = _a.deployConfig;
        var type = deployConfig ? deployConfig.type : undefined;
        if (type && entry && typeof entry !== 'string') {
            entry = entry[type];
        }
        entry = pkg.resolveModule(entry.split(path.sep).join('/'));
        return {
            entry: entry
        };
    };
    EntryConfigFactory.prototype.support = function (context, target) {
        return true;
    };
    return EntryConfigFactory;
}());
exports.EntryConfigFactory = EntryConfigFactory;
//# sourceMappingURL=entry-config-factory.js.map