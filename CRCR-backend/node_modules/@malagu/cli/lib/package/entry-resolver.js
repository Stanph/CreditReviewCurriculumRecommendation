"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var module_path_builder_1 = require("./module-path-builder");
var EntryResolver = /** @class */ (function () {
    function EntryResolver(pkg) {
        this.pkg = pkg;
    }
    EntryResolver.prototype.resolve = function (componentPackage) {
        var malaguComponent = componentPackage.malaguComponent;
        if (malaguComponent) {
            malaguComponent.frontend.entry = this.doResolveEntry(componentPackage, malaguComponent.frontend.entry || malaguComponent.entry);
            malaguComponent.backend.entry = this.doResolveEntry(componentPackage, malaguComponent.backend.entry || malaguComponent.entry);
        }
    };
    EntryResolver.prototype.doResolveEntry = function (componentPackage, entry) {
        var modulePathBuilder = new module_path_builder_1.ModulePathBuilder(this.pkg);
        if (entry) {
            if (typeof entry === 'string') {
                return modulePathBuilder.build(componentPackage, entry);
            }
            else {
                var result = {};
                for (var key in entry) {
                    if (entry.hasOwnProperty(key)) {
                        result[key] = modulePathBuilder.build(componentPackage, entry[key]);
                    }
                }
                return result;
            }
        }
    };
    return EntryResolver;
}());
exports.EntryResolver = EntryResolver;
//# sourceMappingURL=entry-resolver.js.map