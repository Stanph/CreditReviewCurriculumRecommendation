"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var constants_1 = require("../constants");
exports.Cookie = function (target, targetKey, parameterIndex) {
    if (parameterIndex !== undefined) {
        applyRequestCookieDecorator(target, targetKey, parameterIndex);
    }
    else if (target && targetKey) {
        return function (t, tk, d) {
            applyResponseCookieDecorator(t, tk, d, target, targetKey);
        };
    }
    else {
        return function (t, tk, i) {
            applyRequestCookieDecorator(t, tk, i, target);
        };
    }
};
function applyRequestCookieDecorator(target, targetKey, parameterIndex, name) {
    var metadatas = Reflect.getOwnMetadata(constants_1.METADATA_KEY.controllerRequestCookie, target.constructor, targetKey) || [];
    metadatas.push({ name: name, parameterIndex: parameterIndex });
    Reflect.defineMetadata(constants_1.METADATA_KEY.controllerRequestCookie, metadatas, target.constructor, targetKey);
}
exports.applyRequestCookieDecorator = applyRequestCookieDecorator;
function applyResponseCookieDecorator(target, targetKey, descriptor, name, value) {
    var metadatas = Reflect.getOwnMetadata(constants_1.METADATA_KEY.controllerResponseCookie, target.constructor, targetKey) || [];
    metadatas.push({ name: name, value: value });
    Reflect.defineMetadata(constants_1.METADATA_KEY.controllerResponseCookie, metadatas, target.constructor, targetKey);
}
exports.applyResponseCookieDecorator = applyResponseCookieDecorator;
//# sourceMappingURL=cookie.js.map